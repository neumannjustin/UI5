<!DOCTYPE html><html xml:lang="en" lang="en"><head><meta http-equiv="content-type" content="text/html; charset=UTF-8" /><meta name="generator" content="JsDoc Toolkit" /><title>JsDoc Report - SAP UI development Toolkit for HTML5 - API Reference - sap.ui.core.util.XMLPreprocessor.IContext</title><link rel=stylesheet href="../default.css" type="text/css"><script type="text/javascript" src="../../../resources/sap/ui/thirdparty/jquery.js"></script><script type="text/javascript" src="../../../resources/sap/ui/demokit/js/highlight-query-terms.js"></script><link rel="stylesheet" href="../../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" /></head><body><div id="main"><div id="content"><h1 class="classTitle static"> Interface sap.ui.core.util.XMLPreprocessor.IContext </h1> <hr/> <div class="full-description"><p>Context interface provided by XML template processing as an additional first argument to any formatter function which opts in to this mechanism. Candidates for such formatter functions are all those used in binding expressions which are evaluated during XML template processing, including those used inside template instructions like <code>&lt;template:if></code>. The formatter function needs to be marked with a property <code>requiresIContext = true</code> to express that it requires this extended signature (compared to ordinary formatter functions). The usual arguments are provided after the first one (currently: the raw value from the model). </p><p> This interface provides callback functions to access the model and path which are needed to process OData v4 annotations. It initially offers a subset of methods from <a href="sap.ui.model.Context.html">sap.ui.model.Context</a> so that formatters might also be called with a context object for convenience, e.g. outside of XML template processing (see below for an exception to this rule). </p><p><b>Example:</b> Suppose you have a formatter function called "foo" like below and it is used within an XML template like <code>&lt;template:if test="{path: '...', formatter: 'foo'}"></code>. In this case <code>foo</code> is called with arguments <code>oInterface, vRawValue</code> such that <code>oInterface.getModel().getObject(oInterface.getPath()) === vRawValue</code> holds. <pre class="prettyprint">
window.foo = function (oInterface, vRawValue) {
    //TODO ...
};
window.foo.requiresIContext = true;
</pre></p><p><b>Composite Binding Examples:</b> Suppose you have the same formatter function and it is used in a composite binding like <code>&lt;Text text="{path: 'Label', formatter: 'foo'}: {path: 'Value', formatter: 'foo'}"/></code>. In this case <code>oInterface.getPath()</code> refers to ".../Label" in the 1st call and ".../Value" in the 2nd call. This means each formatter call knows which part of the composite binding it belongs to and behaves just as if it was an ordinary binding. </p><p> Suppose your formatter is not used within a part of the composite binding, but at the root of the composite binding in order to aggregate all parts like <code> &lt;Text text="{parts: [{path: 'Label'}, {path: 'Value'}], formatter: 'foo'}"/> </code>. In this case <code>oInterface.getPath(0)</code> refers to ".../Label" and <code>oInterface.getPath(1)</code> refers to ".../Value". This means, the root formatter can access the ith part of the composite binding at will (since 1.31.0); see also <a href="#.getInterface">getInterface</a>. The function <code>foo</code> is called with arguments such that <code> oInterface.getModel(i).getObject(oInterface.getPath(i)) === arguments[i + 1]</code> holds. </p><p> To distinguish those two use cases, just check whether <code>oInterface.getModel() === undefined</code>, in which case the formatter is called on root level of a composite binding. To find out the number of parts, probe for the smallest non-negative integer where <code>oInterface.getModel(i) === undefined</code>. This additional functionality is, of course, not available from <a href="sap.ui.model.Context.html">sap.ui.model.Context</a>, i.e. such formatters MUST be called with an instance of this context interface.</p><br /><i>Since: </i>1.27.1. </div><div class="summary section"><div class="sectionTitle">Method Summary</div><div class="sectionItems"><div class="sectionItem classMethod static"><b class="icon" title="Returns a context interface for the indicated part in case of the root formatter of a composite binding."><a href="sap.ui.core.util.XMLPreprocessor.IContext.html#.getInterface">sap.ui.core.util.XMLPreprocessor.IContext.getInterface</a></b><span class='signature'>(<span title="(number) index of part in case of the root formatter of a composite binding">iPart</span><i class="help" title="Optional parameter">?</i>, <span title="(string) a path, interpreted relative to this.getPath(iPart)">sPath</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Returns a context interface for the indicated part in case of the root formatter of a composite binding.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns the model related to the current formatter call."><a href="sap.ui.core.util.XMLPreprocessor.IContext.html#.getModel">sap.ui.core.util.XMLPreprocessor.IContext.getModel</a></b><span class='signature'>(<span title="(number) index of part in case of the root formatter of a composite binding (since 1.31.0)">iPart</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Returns the model related to the current formatter call.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns the absolute path related to the current formatter call."><a href="sap.ui.core.util.XMLPreprocessor.IContext.html#.getPath">sap.ui.core.util.XMLPreprocessor.IContext.getPath</a></b><span class='signature'>(<span title="(number) index of part in case of the root formatter of a composite binding (since 1.31.0)">iPart</span><i class="help" title="Optional parameter">?</i>)</span><span class='description'>Returns the absolute path related to the current formatter call.</span></div><div class="sectionItem classMethod static"><b class="icon" title="Returns the value of the setting with the given name which was provided to the XML template processing."><a href="sap.ui.core.util.XMLPreprocessor.IContext.html#.getSetting">sap.ui.core.util.XMLPreprocessor.IContext.getSetting</a></b><span class='signature'>(<span title="(string) the name of the setting">sName</span>)</span><span class='description'>Returns the value of the setting with the given name which was provided to the XML template processing.</span></div></div></div><div class="details section"><div class="sectionTitle"> Method Detail </div><div class="sectionItems"><div class='sectionItem classMethod static'><a name=".getInterface"></a><div class="itemTitle icon"> sap.ui.core.util.XMLPreprocessor.IContext.getInterface<span class="signature">(<span title="(number) index of part in case of the root formatter of a composite binding">iPart</span><i class="help" title="Optional parameter">?</i>, <span title="(string) a path, interpreted relative to this.getPath(iPart)">sPath</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns sap.ui.core.util.XMLPreprocessor.IContext">: <a href="sap.ui.core.util.XMLPreprocessor.IContext.html">sap.ui.core.util.XMLPreprocessor.IContext</a></span></div><div class="full-description"> Returns a context interface for the indicated part in case of the root formatter of a composite binding. The new interface provides access to the original settings, but only to the model and path of the indicated part: <pre class="prettyprint">
this.getInterface(i).getSetting(sName) === this.getSetting(sName);
this.getInterface(i).getModel() === this.getModel(i);
this.getInterface(i).getPath() === this.getPath(i);
</pre></p><p> If a path is given, the new interface points to the resolved path as follows: <pre class="prettyprint">
this.getInterface(i, "foo/bar").getPath() === this.getPath(i) + "/foo/bar";
this.getInterface(i, "/absolute/path").getPath() === "/absolute/path";
</pre> A formatter which is not at the root level of a composite binding can also provide a path, but must not provide an index: <pre class="prettyprint">
this.getInterface("foo/bar").getPath() === this.getPath() + "/foo/bar";
this.getInterface("/absolute/path").getPath() === "/absolute/path";
</pre> Note that at least one argument must be present. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{number}</span></td><td class="methodItemName"><b>iPart</b><i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc"> index of part in case of the root formatter of a composite binding </td></tr><tr><td class="methodItemType"><span class="light">{string}</span></td><td class="methodItemName"><b>sPath</b><i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc"> a path, interpreted relative to <code>this.getPath(iPart)</code></td></tr></tbody></table><dl class="detailList since"><dt class="heading since">Since:</dt><dd>1.31.0</dd></dl><div class="heading">Exceptions:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{Error}</span><b></b></td><td class="methodItemDesc"> in case an index is given but the current interface does not belong to the root formatter of a composite binding, or in case the given index is invalid (e.g. missing or out of range), or in case a path is missing because no index is given, or in case a path is given but the model cannot not create a binding context synchronously </td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{<a href="sap.ui.core.util.XMLPreprocessor.IContext.html">sap.ui.core.util.XMLPreprocessor.IContext</a>}</span></td><td class="methodItemDesc"> the context interface related to the indicated part </td></tr></tbody></table></div><div class='sectionItem classMethod static'><a name=".getModel"></a><div class="itemTitle icon"> sap.ui.core.util.XMLPreprocessor.IContext.getModel<span class="signature">(<span title="(number) index of part in case of the root formatter of a composite binding (since 1.31.0)">iPart</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns sap.ui.model.Model">: <a href="sap.ui.model.Model.html">sap.ui.model.Model</a></span></div><div class="full-description"> Returns the model related to the current formatter call. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{number}</span></td><td class="methodItemName"><b>iPart</b><i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc"> index of part in case of the root formatter of a composite binding (since 1.31.0) </td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{<a href="sap.ui.model.Model.html">sap.ui.model.Model</a>}</span></td><td class="methodItemDesc"> the model related to the current formatter call, or (since 1.31.0) <code>undefined</code> in case of a root formatter if no <code>iPart</code> is given or if <code>iPart</code> is out of range </td></tr></tbody></table></div><div class='sectionItem classMethod static'><a name=".getPath"></a><div class="itemTitle icon"> sap.ui.core.util.XMLPreprocessor.IContext.getPath<span class="signature">(<span title="(number) index of part in case of the root formatter of a composite binding (since 1.31.0)">iPart</span><i class="help" title="Optional parameter">?</i>)</span><span class="light" title="returns string">: string</span></div><div class="full-description"> Returns the absolute path related to the current formatter call. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{number}</span></td><td class="methodItemName"><b>iPart</b><i class="help" title="Optional parameter">?</i></td><td class="methodItemDesc"> index of part in case of the root formatter of a composite binding (since 1.31.0) </td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{string}</span></td><td class="methodItemDesc"> the absolute path related to the current formatter call, or (since 1.31.0) <code>undefined</code> in case of a root formatter if no <code>iPart</code> is given or if <code>iPart</code> is out of range </td></tr></tbody></table></div><div class='sectionItem classMethod static'><a name=".getSetting"></a><div class="itemTitle icon"> sap.ui.core.util.XMLPreprocessor.IContext.getSetting<span class="signature">(<span title="(string) the name of the setting">sName</span>)</span><span class="light" title="returns any">: any</span></div><div class="full-description"> Returns the value of the setting with the given name which was provided to the XML template processing. </div><div class="heading">Parameters:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{string}</span></td><td class="methodItemName"><b>sName</b></td><td class="methodItemDesc"> the name of the setting </td></tr></tbody></table><div class="heading">Exceptions:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{Error}</span><b></b></td><td class="methodItemDesc"> if the name is one of the reserved names: "bindingContexts", "models" </td></tr></tbody></table><div class="heading">Returns:</div><table class="methodItem"><tbody><tr><td class="methodItemType"><span class="light">{any}</span></td><td class="methodItemDesc"> the value of the setting </td></tr></tbody></table></div></div></div></div></div></body></html>
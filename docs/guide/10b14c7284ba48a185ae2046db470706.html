<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>





<meta name="abstract" content="The fast navigation feature in OpenUI5 allows fast access to the tab chain provided by browsers that allows to reach all UI areas using the TAB or Shift+TAB key. As this chain is fine grained, it may take some time to reach the relevant area on complex screens."/>
<meta name="description" content="The fast navigation feature in OpenUI5 allows fast access to the tab chain provided by browsers that allows to reach all UI areas using the TAB or Shift+TAB key. As this chain is fine grained, it may take some time to reach the relevant area on complex screens."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=8451818919119474"/>
<title>Fast Navigation</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->

  <script src="../../resources/sap/ui/thirdparty/jquery.js"></script>
    <script src="../../resources/sap/ui/demokit/js/highlight-query-terms.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/run_prettify.js"></script>
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/lang-css.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
  </head>
<body class="" id="loio10b14c7284ba48a185ae2046db470706">
<div id="wrapper"><div id="container">
<h1 class="title topictitle1">Fast Navigation</h1>
<div class="body"><p class="shortdesc">The fast navigation feature in <span class="ph"><span class="ph pname">OpenUI5</span></span> allows fast access to
		the tab chain provided by browsers that allows to reach all UI areas using the TAB or
		Shift+TAB key. As this chain is fine grained, it may take some time to reach the relevant
		area on complex screens.</p>
<p class="p">Adjacent controls within the tab chain can be grouped. Within such a group,
				<span class="ph uicontrol">F6</span> skips all controls of the group and moves the focus to the
			first control in the tab chain of the next group. <span class="ph uicontrol">Shift+F6</span> moves
			the focus to the first control of the previous group. Adjacent tab chain elements
			between groups are automatically handled as one group. For nested groups, the most
			concrete group is used.</p>
<p class="p">The following image describes this behavior. Groups are highlighted in blue, elements in
			the tab-chain are grey.</p>
<img class="image" id="loio10b14c7284ba48a185ae2046db470706__image_m52_1hq_vp" src="loioe5e01dd8d1594e608e697a2e30ac3bc6_LowRes.png"/><p class="p">The F6 navigation cycles. This means if the focus is within the last group in the group
			chain, the focus moves to the first control in the first group. This leads to an
			additional F6 chain, which allows fast navigation through applications. Larger controls
			like the Table, Panel and Form provide their own group(s) by default. The application
			developer defines further groups.</p>
<div class="section"><div class="section_title">Fast Navigation in Application Development</div><div type="Fast Navigation in Application Development">
			
			<p class="p">As described, some larger controls or containers already define F6 groups. If a group
				is defined on root level of a control or element, the group can be removed by using
				the <samp class="ph codeph">CustomData</samp> mechanism.</p>

			<p class="p">Coding Example</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!js</samp>
oControl.data("sap-ui-fastnavgroup", "false", true/*Write into DOM*/);</pre></div>

			<p class="p">XML View Example</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!xml</samp>
&lt;mvc:View
  xmlns:core="sap.ui.core"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"&gt;
  &lt;Panel&gt;
    &lt;headerToolbar&gt;
      &lt;Toolbar&gt;
        &lt;Button icon="sap-icon://settings" /&gt;
      &lt;/Toolbar&gt;
    &lt;/headerToolbar&gt;
    &lt;content&gt;
      &lt;Text text="Lorem ipsum dolor st amet..." /&gt;
    &lt;/content&gt;
    &lt;customData&gt;
      &lt;core:CustomData key="sap-ui-fastnavgroup" value="false" writeToDom="true" /&gt;
    &lt;/customData&gt;
  &lt;/Panel&gt;
&lt;/mvc:View&gt;
</pre></div>

			<p class="p">The same way it is possible to make a control or element to be an F6 group. However,
				keep in mind that not all elements are represented in the DOM.</p>

			<p class="p">Coding Example:</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!js</samp>
oControl.data("sap-ui-fastnavgroup", "true", true/*Write into DOM*/);</pre></div>

			<p class="p">XML View Example</p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!xml</samp>
&lt;mvc:View
  xmlns:core="sap.ui.core"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"&gt;
  &lt;Panel&gt;
    &lt;headerToolbar&gt;
      &lt;Toolbar&gt;
        &lt;Button icon="sap-icon://settings" /&gt;
      &lt;/Toolbar&gt;
    &lt;/headerToolbar&gt;
    &lt;content&gt;
      &lt;Text text="Lorem ipsum dolor st amet..." /&gt;
    &lt;/content&gt;
    &lt;customData&gt;
      &lt;core:CustomData key="sap-ui-fastnavgroup" value="true" writeToDom="true" /&gt;
    &lt;/customData&gt;
  &lt;/Panel&gt;
&lt;/mvc:View&gt;
</pre></div>

			<p class="p">Also, DOM elements that are not controlled by <span class="ph"><span class="ph pname">OpenUI5</span></span> controls can be grouped by
				setting <samp class="ph codeph">data-sap-ui-fastnavgroup="true"</samp>.</p>

		</div></div>
<div class="section"><div class="section_title">Fast Navigation for Control Development</div><div type="Fast Navigation for Control Development"><p class="p">Basically, an F6 group is
				defined via the attribute data-sap-ui-fastnavgroup="true" on a DOM element. Several
				options exist to implement fast navigation support in controls:</p>
<div class="note note"><span class="notetitle">Note</span> 
				<p class="p">We recommend that you do <span class="ph emphasis emphasis">not</span> provide fast navigation support
					for small controls such as <samp class="ph codeph">Button</samp> or
						<samp class="ph codeph">InputField</samp>. The fast navigation feature is intended for
					large, more complex controls containing multiple tabable elements to enable the
					user to quickly jump over controls if needed.</p>

			</div>
<p class="p">Defining an F6 group on control or element root level:</p>
<p class="p">This is the
				preferred option and can be used for many use cases. If a control or an element with
				a DOM representation wants to define an F6 group on its root element, use the
					<samp class="ph codeph">CustomData</samp> mechanism in the <samp class="ph codeph">init</samp> function of
				the control or element to set the
				attribute.</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!js</samp>
init = function(){
  //...
  this.data("sap-ui-fastnavgroup", "true", true/*Write into DOM*/);
  //...
};
</pre></div>
<p class="p">The
					<samp class="ph codeph">RenderManager</samp> writes the attribute automatically during
				rendering when the <samp class="ph codeph">writeControlData</samp> or
					<samp class="ph codeph">writeElementData</samp> is called. The application can also change the
				custom data if desired.</p>
<p class="p">Defining the F6 Group Within a Control</p>
<p class="p">During
				rendering of a control, the attribute can also be written to any arbitrary DOM
				element of the control.</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!js</samp>
render = function(oRenderManager, oControl){
  //...
  oRenderManager.writeAttribute("data-sap-ui-fastnavgroup", "true");
  //...
};
</pre></div>
<div class="note note"><span class="notetitle">Note</span> 
				<p class="p">In this case it is difficult for an application to adapt the behavior.</p>

			</div>
<p class="p">Custom F6 Handling</p>
<p class="p">It may be necessary that a control has to provide a
				custom fast navigation handling, for example, if the DOM structure of the control
				does not allow to define suitable navigation groups with one of the options
				described above. The following picture shows how the central fast navigation
				handling (a) outside the control collaborates with the custom handling inside the
				control.</p>
<img class="image" id="loio10b14c7284ba48a185ae2046db470706__image_n5m_b3q_vp" src="loiofd10658b749c45f39ad27a45a414fae0_LowRes.png"/><p class="p">To implement custom fast
				navigation handling, start with flagging the control as a custom handling
				area:</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!js</samp>
render = function(oRenderManager, oControl){
  //...
  oRenderManager.writeControlData(oControl);
  oRenderManager.writeAttribute("data-sap-ui-customfastnavgroup", "true"); //Attribute must be on the root element of the control.
  //...
};
</pre></div>
<p class="p">To
				implement the custom F6 behavior within the control (d), use the event handlers
					<samp class="ph codeph">onsapskipforward</samp> (F6) and <samp class="ph codeph">onsapskipback</samp>
				(Shift+F6). When <samp class="ph codeph">preventDefault</samp> is called on the provided event,
				the central fast navigation handling ignores the event.</p>
<p class="p">The interesting point
				is the collaboration (b, c) between the control and the central fast navigation
				handling.</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!js</samp>
onsapskipforward = function(oEvent){ //F6
  var oTarget = findNextDomRefToFocus(oEvent.target); //Search for the next DOM element within the control which should be focused.
  if(!oTarget){
    //target is in the last group -&gt; focus should jump to the first group after the control (done by the central handling, preventDefault not called)
  }else{
    oEvent.preventDefault();
    jQuery.sap.focus(oTarget);
  }
};

onsapskipback = function(oEvent){ //Shift+F6
  var oTarget = findPreviousDomRefToFocus(oEvent.target); //Search for the previous DOM element within the control which should be focused.
  if(!oTarget){
    //target is in the first group -&gt; focus should jump to the first group before the control (done by the central handling, preventDefault not called)
  }else{
    oEvent.preventDefault();
    jQuery.sap.focus(oTarget);
  }
};
</pre></div>
<p class="p">If
				the focus resides within the control and jumps out of the control (b) when pressing
				F6 or Shift+F6, the <samp class="ph codeph">onsapskipforward</samp> and
					<samp class="ph codeph">onsapskipback</samp> events should not be handled (no
					<samp class="ph codeph">preventDefault</samp> call).</p>
<p class="p">If the focus resides outside the
				control and the central fast navigation handling calculates a target to focus within
				the control, the central handling first calls the event handler
					<samp class="ph codeph">onBeforeFastNavigationFocus</samp> (if available) on the control (c1,
				c2) that is flagged as a custom handling area. The provided event has the following
				attributes:</p>
<ul class="ul" id="loio10b14c7284ba48a185ae2046db470706__ul_gjq_kjq_vp"><li class="li">
					<p class="p"><samp class="ph codeph">target</samp>: Specifies the DOM element that the central handling
						tries to focus within the custom handling area</p>

				</li>
<li class="li">
					<p class="p"><samp class="ph codeph">source</samp>: Specifies the DOM element which is the starting
						point for the calculation of the next/previous element to focus; this is
						usually the element that is currently focused</p>

				</li>
<li class="li">
					<p class="p"><samp class="ph codeph">forward</samp>: Specifies whether forward (F6) or backward
						(Shift+F6) navigation is used</p>

				</li>
</ul>
<p class="p">If <samp class="ph codeph">preventDefault</samp> is called on
					<samp class="ph codeph">BeforeFastNavigationFocus</samp>, setting the focus on the target by
				the central handling is
			skipped.</p>
<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint "><samp class="ph codeph">#!js</samp>
onBeforeFastNavigationFocus = function(oEvent){
  var oTarget;
  if (jQuery.contains(this.getDomRef(), oEvent.source)) {
    //The source is within the custom area (e.g. might happen when the focus is on a popup which is attached to an element within the custom area)
    oTarget = oEvent.forward ? findNextDomRefToFocus(oEvent.source) : findPreviousDomRefToFocus(oEvent.source);
  }else{
    //The source is outside of the custom area
    oTarget = oEvent.forward ? findFirstDomRefToFocus() : findLastDomRefToFocus();
  }
  if(oTarget){
    oEvent.preventDefault();
    jQuery.sap.focus(oTarget);
  }
};
</pre></div>
</div></div>
</div>
</div></div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Fast Navigation";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>